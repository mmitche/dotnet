<?xml version="1.0" encoding="utf-8"?>
<!-- Licensed to the .NET Foundation under one or more agreements. The .NET Foundation licenses this file to you under the MIT license. -->
<Project>
  <PropertyGroup>
    <!-- Obtain the original set based on whether TargetFramework or TargetFrameworks was used -->
    <_OriginalTargetFrameworks Condition="'$(TargetFrameworks)' != ''">$(TargetFrameworks)</_OriginalTargetFrameworks>
    <_OriginalTargetFrameworks Condition="'$(TargetFramework)' != ''">$(TargetFramework)</_OriginalTargetFrameworks>
    <_FilteredTargetFrameworks Condition="'$(NoTargetFrameworkFiltering)' != 'true' and '$(DotNetTargetFrameworkFilter)' != ''">$([MSBuild]::Unescape($([MSBuild]::IntersectTargetFrameworks('$(_OriginalTargetFrameworks)', '$(DotNetTargetFrameworkFilter)'))))</_FilteredTargetFrameworks>
    <!-- Maintain usage of the original property -->
    <TargetFrameworks Condition="'$(NoTargetFrameworkFiltering)' != 'true' and '$(TargetFrameworks)' != ''">$(_FilteredTargetFrameworks)</TargetFrameworks>
    <TargetFramework Condition="'$(NoTargetFrameworkFiltering)' != 'true' and '$(TargetFramework)' != ''">$(_FilteredTargetFrameworks)</TargetFramework>
  </PropertyGroup>
</Project>